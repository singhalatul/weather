<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" 
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" 
    integrity="sha512-PgQMlq+nqFLV4ylk1gwUOgm6CtIIXkKwaIHp/PAIWHzig/lKZSEGKEysh0TCVbHJXCLN7WetD8TFecIky75ZfQ==" 
    crossorigin="anonymous" referrerpolicy="no-referrer" />
    <title>Weather App</title>
</head>
<body>
    <div class ="box">
        <div class="wave-one"></div>
        <div class="wave-Two"></div>
        <div class="wave-Three"></div>

        <div id = "weathericon">
            <i class="fas fa-sun"  style = "color : #eccc68"></i>
        </div>
        <div class="info">
            <h2 class="location" ><i class="fas fa-street-view"></i>{%location%},{%country%}</h2>
            <p id="date">WED | OCT 23 | 10:49AM</p>
            <h1 class="temp">{%tempval%}&deg;C</h1>
            <h3 class="tempmin_max">Min {%tempmin%}&deg;C | Max {%tempmax%}&deg;C</h3>
        </div>
    </div>

    <script>
        const curDate = document.getElementById("date");
        const weatherIcon = document.getElementById("weathericon");

        const tempStatus = "{%tempstatus%}";
        if(tempstatus == "Sunny"){
            weatherIcon.innerHTML = 
            "<i class='fas fa-sun'  style = 'color : #eccc68'></i>"
        }else if(tempstatus == "Clouds"){
            weatherIcon.innerHTML = 
            "<i class='fas fa-cloud'  style = 'color : #dfe4ea;'></i>";
        }
        else if(tempstatus == "Rainy"){
            weatherIcon.innerHTML = 
            "<i class='fas fa-cloud-rain'  style = 'color : #a4b0be;'></i>";
        }
        else{
            weatherIcon.innerHTML = 
            "<i class='fas fa-cloud'  style = 'color : #44c3de;'></i>";
        }

        const getCurrentDay = ()=>{
            let currentTime = new Date();
            var weekday = new Array(7);
            weekday[0] = "Sun";
            weekday[1] = "Mon";
            weekday[2] = "Tue";
            weekday[3] = "Wed";
            weekday[4] = "Thu";
            weekday[5] = "Fri";
            weekday[6] = "Sat";

            let day = (weekday[currentTime.getDay()])
            return day;
        };

        const getCurrentTime = ()=>{
            let now = new Date();
            var monthDay = new Array(12);
            monthDay[0] = "Jan";
            monthDay[1] = "Feb";
            monthDay[2] = "Mar";
            monthDay[3] = "Apr";
            monthDay[4] = "May";
            monthDay[5] = "Jun";
            monthDay[6] = "Jul";
            monthDay[7] = "Aug";
            monthDay[8] = "Sept";
            monthDay[9] = "Oct";
            monthDay[10] = "Nov";
            monthDay[11] = "Dec";

            var month = now.getMonth() ;
            var date = now.getDate();

            let hours = now.getHours();
            let min = now.getMinutes();

            let period ="AM";
            if(hours>=11){
                if(min >=59){
                    period = "PM";
                }
                if(hours>12) hours-=12;
            }
            if(min <10){
                min = "0" + min;
            }

            return `${monthDay[month]} ${date}|${hours}:${min}${period}`;
            // console.log(monthDay[month] + "/" + date + "|" + hours + ":" + min  + period);
        };
        
        curDate.innerHTML = getCurrentDay() + " | " + getCurrentTime();

    </script>
</body>
</html>